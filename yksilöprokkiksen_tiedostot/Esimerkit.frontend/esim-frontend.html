<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>HRV</title>
  </head>
  <body>
    <nav>
        <span class="logo">HealthDiary</span>
        <button class="menu-toggle">☰</button>
        <ul class="menu">
            <li class="dropdown">
                <a href="diary.html">Home</a>
              </li>
          <li class="dropdown">
            <a href="#">Categories</a>
            <div class="dropdown-content">
              <a href="exercise.html">Exercise</a>
              <a href="nutrition.html">Nutrition</a>
              <a href="diaries.html">Diary Entries</a>
              <a href="medication.html">Medications</a>
              <a href="hrv.html">HRV Measurements</a>
            </div>
          </li>
          <li><a href="settings.html">Settings</a></li>
          <li class="logout"><a href="#">Log Out</a></li>
        </ul>
      </nav>
    <div class="diaries-backround">
      <form id="exercise-form">
        <h3>Add New Diary Entry</h3>
        <label for="date">Date:</label>
        <input type="date" id="date" name="entry_date" required /><br /><br />

        <label for="type">Mood:</label>
        <select id="type" name="mood" required>
          <option value="Happy">Happy</option>
          <option value="Satisfied">Satisfied</option>
          <option value="Tired">Tired</option>
          <option value="Energetic">Energetic</option>
          <option value="Relaxed">Relaxed</option>
          <option value="Exhausted">Exhausted</option></select
        ><br /><br />

        <label for="weight">Weight:</label>
        <input
          type="number"
          id="weight"
          name="weight"
          placeholder="Example: 65,5"
          required
        /><br /><br />

        <label for="sleep">Sleep:</label>
        <input
          type="number"
          id="sleep"
          name="sleep_hours"
          placeholder="hours"
          required
        /><br /><br />

        <label for="notes">Notes:</label><br />
        <textarea
          id="notes"
          name="notes"
          rows="4"
          cols="50"
          placeholder="Example: Work was demanding. Spent time with friends."
        ></textarea
        ><br /><br />
        <input type="hidden" id="created_at" name="created_at" value="" />
        <button type="submit">Add Diary Entry</button>
      </form>
      <button id="fetch-data">Get Your Diary Entries</button>
      
      <div class="table-container">
        <table class="styled-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Mood</th>
              <th>Weight</th>
              <th>Sleep hours</th>
              <th>Notes</th>
              <th>Delete</th>
              <th>Edit</th>
            </tr>
          </thead>
          <tbody class="tbody"></tbody>
        </table>
      </div>
    </div>
    <div id="edit-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">×</span>
        <form id="edit-form">
          <h3>Edit Diary Entry</h3>
          <input type="hidden" id="edit-entry-id" name="edit-entry-id" required />

          <label for="edit-date">Date:</label>
          <input type="date" id="edit-date" name="edit-date" required /><br /><br />

          <label for="edit-mood">Mood:</label>
          <select id="edit-mood" name="edit-mood" required>
            <option value="Happy">Happy</option>
            <option value="Satisfied">Satisfied</option>
            <option value="Tired">Tired</option>
            <option value="Energetic">Energetic</option>
            <option value="Relaxed">Relaxed</option>
            <option value="Exhausted">Exhausted</option></select
          ><br /><br />

          <label for="edit-weight">Weight:</label>
          <input
            type="number"
            id="edit-weight"
            name="edit-weight"
            required
          /><br /><br />

          <label for="edit-sleep">Sleep hours:</label>
          <input
            type="number"
            id="edit-sleep"
            name="edit-sleep"
            required
          /><br /><br />

          <label for="edit-notes">Notes:</label><br />
          <textarea id="edit-notes" name="edit-notes" rows="4" cols="50"></textarea
          ><br /><br />

          <button type="submit">Update Entry</button>
        </form>
      </div>
    </div>

    <script type="module" src="/diaries.js"></script>
  </body>
</html>